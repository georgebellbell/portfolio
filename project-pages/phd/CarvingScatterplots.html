<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Carving Scatterplots</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="../assets/images/profilepic.jpg" />
  <link rel="stylesheet" href="../../css/layout.css">
  <link rel="stylesheet" href="../../css/typography.css">
  <link rel="stylesheet" href="../../css/utilities.css">

</head>
<body>
  <!-- NAVBAR -->
  <div class="navbar">
    <a class="nav-title-link" href="../../index.html">
      <span class="nav-title">George Bell</span>
    </a>
    <a class="button" href="../PhD.html">
      <span class="button-text">PhD / Research</span>
    </a>
    <a class="button" href="mailto:georgebell.com@gmail.com">
      <span class="button-text">Contact Me</span>
    </a>
  </div>

  <div id="main-content">
    <!-- PROJECT HEADER -->
    <div id="portfolio-header" style="align-items: center; flex-direction: column;">
      <span class="main-title" style="color: var(--main-accent); font-size: 2rem; font-weight: bold; width: 100%; text-align: center; margin-bottom: 18px; display: block;">
        Carving Scatterplots
      </span>
      <div id="portfolio-header-text-container">
        <div class="header-text">
          <div class="subheader-text" style="font-size: 1.05rem; text-align: center;">
            Online Demo Made in Unity
          </div>
        </div>
      </div>
    </div>

    <hr class="soft-divider">
    <p class="body-text">Web Based Scatterplot Carving Demo. Created using Unity3D and WebGL.</p>
    <ul class="body-text">
      <li>Experiment 1 allows manipulation of noise and a single cluster.</li>
      <li>Experiment 2 allows manipulation of two clusters.</li>
    </ul>
    <hr class="soft-divider">

    <!-- TOGGLE BUTTONS -->
    <div style="margin-bottom: 1em; text-align: center;">
      <button onclick="showDemo(1)" id="toggle-btn-1" class="button active">Full Demo</button>
      <button onclick="showDemo(2)" id="toggle-btn-2" class="button">Simple Demo</button>
    </div>

    <!-- UNITY DEMO 1 -->
    <div class="unity-demo-card" id="unity-demo-1">
      <div id="unity-container-1">
        <canvas id="unity-canvas-1"></canvas>
      </div>
    </div>
    <!-- UNITY DEMO 2 -->
    <div class="unity-demo-card" id="unity-demo-2" style="display:none;">
      <div id="unity-container-2">
        <canvas id="unity-canvas-2"></canvas>
      </div>
    </div>

    <p class="subheader-text"><b>Controls</b></p>
    <ul class="body-text">
      <li><b>Tab</b> - Switch between <b>Exocentric</b> and <b>Egocentric</b> navigation.</li>
      <li><b>Right Click on point</b> - Change colour of point.</li>
      <li><b>R</b> - Reset scatterplot and camera back to initial position.</li>
      <li><b>F</b> - Toggle Fullscreen.</li>
      <li><b>Escape</b> - Exit the current mode.</li>
    </ul>
    <p class="body-text"><b>Exocentric Specific</b></p>
    <ul class="body-text">
      <li><b>Mouse movement + Hold Left Click</b> - Rotate Scatterplot</li>
      <li><b>Scroll Wheel</b> - Zoom in and out towards the plot.</li>
    </ul>

    <p class="body-text"><b>Egocentric Specific</b></p>
    <ul class="body-text">
      <li><b>Mouse movement + Hold Left Click</b> - Look around plot.</li>
      <li><b>WASD</b> - Move through the scatterplot in the current direction, within its bounds.</li>
      <li><b>QE</b> - Move up and down through the scatterplot, within its bounds.</li>
    </ul>
  </div>

  <script>
    function showDemo(num) {
      document.getElementById('unity-demo-1').style.display = num === 1 ? '' : 'none';
      document.getElementById('unity-demo-2').style.display = num === 2 ? '' : 'none';
      document.getElementById('toggle-btn-1').classList.toggle('active', num === 1);
      document.getElementById('toggle-btn-2').classList.toggle('active', num === 2);
    }

    // Load Full Demo
    var buildUrl1 = "../../assets/CarvingBuild/CarvingPlotBuild";
    var loaderUrl1 = buildUrl1 + "/Web.loader.js";
    var config1 = {
      dataUrl: buildUrl1 + "/Web.data",
      frameworkUrl: buildUrl1 + "/Web.framework.js",
      codeUrl: buildUrl1 + "/Web.wasm",
      streamingAssetsUrl: "../../assets/CarvingBuild/StreamingAssets",
      companyName: "Newcastle University",
      productName: "Carving Scatterplots",
      productVersion: "1.0",
    };

    var script1 = document.createElement("script");
    script1.src = loaderUrl1;
    script1.onload = () => {
      createUnityInstance(document.querySelector("#unity-canvas-1"), config1)
        .then((unityInstance) => {
          console.log("Unity 1 loaded");
        })
        .catch((message) => {
          alert(message);
        });
    };
    document.body.appendChild(script1);

    // Load Simple Demo
    var buildUrl2 = "../../assets/SimpleCarvingBuild/CarvingPlotBuild";
    var loaderUrl2 = buildUrl2 + "/SimpleWeb.loader.js";
    var config2 = {
      dataUrl: buildUrl2 + "/SimpleWeb.data",
      frameworkUrl: buildUrl2 + "/SimpleWeb.framework.js",
      codeUrl: buildUrl2 + "/SimpleWeb.wasm",
      streamingAssetsUrl: "../../assets/SimpleCarvingBuild/StreamingAssets",
      companyName: "Newcastle University",
      productName: "Carving Scatterplots Simple",
      productVersion: "1.0",
    };

    var script2 = document.createElement("script");
    script2.src = loaderUrl2;
    script2.onload = () => {
      createUnityInstance(document.querySelector("#unity-canvas-2"), config2)
        .then((unityInstance) => {
          console.log("Unity 2 loaded");
        })
        .catch((message) => {
          alert(message);
        });
    };
    document.body.appendChild(script2);

    // Optional: highlight first button on load
    showDemo(1);
  </script>

</body>
</html>